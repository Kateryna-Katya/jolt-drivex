{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// Регистрируем плагины GSAP\ngsap.registerPlugin(ScrollTrigger, TextPlugin);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide)\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. МОБИЛЬНОЕ МЕНЮ\n    const burger = document.getElementById('burger-menu');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const body = document.body;\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n    const toggleMenu = (forceClose = false) => {\n        if (!mobileMenu || !burger) return;\n        \n        const isOpen = forceClose ? false : !mobileMenu.classList.contains('active');\n        \n        mobileMenu.classList.toggle('active', isOpen);\n        burger.classList.toggle('active', isOpen);\n        body.style.overflow = isOpen ? 'hidden' : '';\n        \n        // Анимация полосок бургера\n        gsap.to(burger.children[0], { y: isOpen ? 8 : 0, rotate: isOpen ? 45 : 0, duration: 0.3 });\n        gsap.to(burger.children[1], { opacity: isOpen ? 0 : 1, duration: 0.2 });\n        gsap.to(burger.children[2], { y: isOpen ? -9 : 0, rotate: isOpen ? -45 : 0, duration: 0.3 });\n    };\n\n    if (burger) burger.addEventListener('click', () => toggleMenu());\n    mobileLinks.forEach(link => link.addEventListener('click', () => toggleMenu(true)));\n\n    // 3. ЭФФЕКТ ХЕДЕРА ПРИ СКРОЛЛЕ\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (header) {\n            header.classList.toggle('header--scrolled', window.scrollY > 50);\n        }\n    });\n\n    // 4. АНИМАЦИЯ HERO \n    // Напоминание: в CSS у .hero__content, .svg-block и т.д. должно быть opacity: 0\n    const heroTl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n\n    heroTl\n        .to('.hero__content', { opacity: 1, y: 0, duration: 1, delay: 0.5 })\n        .to('.svg-block', { opacity: 1, y: -20, stagger: 0.1, duration: 0.8 }, \"-=0.5\")\n        .to('.svg-core', { \n            opacity: 1, \n            scale: 1, \n            rotation: 360, \n            duration: 1.2, \n            transformOrigin: \"center center\" \n        }, \"-=0.8\")\n        .to('.svg-line', { opacity: 1, strokeDashoffset: 0, duration: 1 }, \"<\");\n\n    // Параллакс мыши в Hero\n    const heroVisual = document.querySelector('.hero__visual');\n    if (heroVisual) {\n        heroVisual.addEventListener('mousemove', (e) => {\n            const { offsetX, offsetY, target } = e;\n            const { clientWidth, clientHeight } = target;\n            const xPos = (offsetX / clientWidth - 0.5) * 20;\n            const yPos = (offsetY / clientHeight - 0.5) * 20;\n            gsap.to('.hero-svg', { x: xPos, y: yPos, duration: 1, ease: \"power2.out\" });\n        });\n        heroVisual.addEventListener('mouseleave', () => {\n            gsap.to('.hero-svg', { x: 0, y: 0, duration: 1 });\n        });\n    }\n\n    // 5. СКРОЛЛ-АНИМАЦИИ (Карточки, Bento, Skills)\n    \n    // Карточки платформы\n    gsap.utils.toArray('.platform-card').forEach((card, i) => {\n        gsap.to(card, {\n            scrollTrigger: { trigger: card, start: \"top 85%\" },\n            opacity: 1, y: 0, duration: 0.8, delay: i * 0.2\n        });\n    });\n\n    // Bento Grid\n    gsap.to('.bento__item', {\n        scrollTrigger: { trigger: '.bento', start: \"top 70%\" },\n        opacity: 1, scale: 1, duration: 0.8, stagger: 0.15, ease: \"back.out(1.2)\"\n    });\n\n    // Skills (Шкалы)\n    document.querySelectorAll('.skill-item').forEach(item => {\n        const fill = item.querySelector('.skill-item__fill');\n        const count = item.querySelector('.count');\n        const targetValue = fill.getAttribute('data-progress');\n\n        const tl = gsap.timeline({\n            scrollTrigger: { trigger: item, start: \"top 85%\" }\n        });\n\n        tl.to(fill, { width: targetValue + \"%\", duration: 2, ease: \"power4.out\" })\n          .to(count, { innerText: targetValue, duration: 2, snap: { innerText: 1 } }, \"<\");\n    });\n\n    // 6. AI CODE EDITOR\n    const codeContainer = document.getElementById('ai-code');\n    if (codeContainer) {\n        const finalCode = `// Задача: Оптимизировать массив\\nasync function solveTask(data) {\\n  const patterns = await ai.analyze(data);\\n  return data.map(item => ({ ...item, score: 'A+' }));\\n}`;\n        \n        gsap.timeline({\n            scrollTrigger: { trigger: '#ai-demo', start: \"top 60%\" }\n        })\n        .to(codeContainer, {\n            duration: 5,\n            text: { value: finalCode, delimiter: \"\" },\n            ease: \"none\"\n        });\n    }\n\n    // 7. КОНТАКТЫ: ВРЕМЯ И ФОРМА\n    const updateTime = () => {\n        const timeEl = document.getElementById('current-time');\n        if (timeEl) {\n            const ukTime = new Intl.DateTimeFormat('en-GB', { \n                timeZone: 'Europe/London', hour: '2-digit', minute: '2-digit', second: '2-digit' \n            }).format(new Date());\n            timeEl.textContent = `London: ${ukTime}`;\n        }\n    };\n    setInterval(updateTime, 1000);\n    updateTime();\n\n    // Логика капчи\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha-input');\n    let n1, n2, correctAnswer;\n\n    const generateCaptcha = () => {\n        n1 = Math.floor(Math.random() * 10) + 1;\n        n2 = Math.floor(Math.random() * 5) + 1;\n        correctAnswer = n1 + n2;\n        if (captchaLabel) {\n            captchaLabel.textContent = `Решите пример: ${n1} + ${n2} = ?`;\n        }\n    };\n    generateCaptcha();\n\n    // Обработка отправки формы\n    const contactForm = document.getElementById('main-form');\n    if (contactForm) {\n        const phoneInput = document.getElementById('phone-input');\n        \n        // Только цифры в телефоне\n        if (phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n            });\n        }\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            const successMsg = document.getElementById('form-success');\n            const errorMsg = document.getElementById('form-error');\n\n            // Скрываем старые сообщения\n            if (successMsg) successMsg.style.display = 'none';\n            if (errorMsg) errorMsg.style.display = 'none';\n\n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== correctAnswer) {\n                if (errorMsg) {\n                    errorMsg.style.display = 'flex';\n                    gsap.from(errorMsg, { x: 20, repeat: 3, yoyo: true, duration: 0.1 });\n                }\n                return;\n            }\n\n            // Имитация отправки\n            const btn = contactForm.querySelector('button');\n            const originalBtnText = btn.textContent;\n            btn.disabled = true;\n            btn.textContent = \"Отправка...\";\n\n            setTimeout(() => {\n                btn.style.display = 'none';\n                if (successMsg) {\n                    successMsg.style.display = 'flex';\n                    gsap.from(successMsg, { y: 20, opacity: 0, duration: 0.5 });\n                }\n                contactForm.reset();\n                generateCaptcha(); // Обновляем капчу для следующего раза\n            }, 1500);\n        });\n    }\n});"],"names":["burger","mobileMenu","body","mobileLinks","toggleMenu","forceClose","isOpen","link","header","heroVisual","e","offsetX","offsetY","target","clientWidth","clientHeight","xPos","yPos","card","i","item","fill","count","targetValue","codeContainer","updateTime","timeEl","ukTime","captchaLabel","captchaInput","n1","n2","correctAnswer","generateCaptcha","contactForm","phoneInput","successMsg","errorMsg","btn"],"mappings":"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"}